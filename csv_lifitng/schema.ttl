# Préfixes pour les espaces de noms communs
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix pice: <http://example.com/pice#> .

# Définition des classes
pice:Événement a owl:Class .
pice:Lieu a owl:Class .
pice:Prestataire a owl:Class .
pice:Participant a owl:Class .
pice:ConditionMétéorologique a owl:Class .
pice:Agenda a owl:Class .
pice:Incident a owl:Class .

# Définition des propriétés
pice:aType a owl:ObjectProperty .
pice:aLieu a owl:ObjectProperty .
pice:aDate a owl:DatatypeProperty .
pice:aPrestataire a owl:ObjectProperty .
pice:aParticipant a owl:ObjectProperty .
pice:aConditionMétéo a owl:ObjectProperty .
pice:aCapacité a owl:DatatypeProperty .
pice:estAccessible a owl:DatatypeProperty .
pice:offreService a owl:ObjectProperty .
pice:aTarif a owl:DatatypeProperty .
pice:aPréférence a owl:DatatypeProperty .
pice:aFeedback a owl:DatatypeProperty .


# SHACL Contraintes pour la classe Événement
pice:EventShape a sh:NodeShape ;
    sh:targetClass pice:Événement ;
    sh:property [
        sh:path pice:aType ;
        sh:class skos:Concept ;
        sh:minCount 1 ;
    ] ;
    sh:property [
        sh:path pice:aLieu ;
        sh:class pice:Lieu ;
        sh:minCount 1 ;
    ] ;
    sh:property [
        sh:path pice:aDate ;
        sh:datatype xsd:dateTime ;
        sh:minCount 1 ;
    ] .    

# SKOS Concepts pour les types d'événements
pice:TypesDévénements a skos:ConceptScheme ;
    skos:hasTopConcept pice:Concert, pice:Mariage, pice:Conférence .

pice:Concert a skos:Concept ;
    skos:inScheme pice:TypesDévénements ;
    skos:prefLabel "Concert"@fr .

pice:Mariage a skos:Concept ;
    skos:inScheme pice:TypesDévénements ;
    skos:prefLabel "Mariage"@fr .

pice:Conférence a skos:Concept ;
    skos:inScheme pice:TypesDévénements ;
    skos:prefLabel "Conférence"@fr .

# Exemple d'instance d'un événement
pice:Event_001 a pice:Événement ;
    pice:aType pice:Concert ;
    pice:aLieu pice:Venue_001 ;
    pice:aDate "2024-05-20T20:00:00Z"^^xsd:dateTime ;
    pice:aPrestataire pice:Prestataire_001 ;
    pice:aParticipant pice:Participant_001 ;

# Exemple d'instance d'un lieu
pice:Venue_001 a pice:Lieu ;
    pice:aCapacité "500"^^xsd:integer ;
    pice:estAccessible "true"^^xsd:boolean ;
